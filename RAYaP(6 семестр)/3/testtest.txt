_main
CALL
HALT
:_in
IN
SWAP
JMP
:_newline
10
OUT
DUP
JMP
:_out
SWAP
OUT
DUP
JMP
:_getbp
GETBP
SWAP
JMP
:_halt
OVER
HALT
;--------instanceof__ (p class ) Nargs: 2 (var (i 1 )) LocalVarsSize: 1
:_instanceof__
GETBP
GETSP
SETBP
1
PUSHN
GETBP
1
SUB
GETBP
2
ADD
READ
READ
READ
WRITE
:_l_cycle_1
GETBP
1
SUB
READ
_l_exit_1
JEQ
GETBP
1
SUB
READ
GETBP
3
ADD
READ
CMP
_l_exit_2
JNE
3
GETBP
ADD
GETBP
1
SUB
READ
WRITE
_l_return_0
JMP
:_l_exit_2
GETBP
1
SUB
GETBP
1
SUB
READ
READ
WRITE
_l_cycle_1
JMP
:_l_exit_1
3
GETBP
ADD
0
WRITE
_l_return_0
JMP
:_l_return_0
GETBP
SETSP
SETBP
2
RETN
;------—
;--------foo (p ) Nargs: 1 (var (x 1 )) LocalVarsSize: 1
:_foo
GETBP
GETSP
SETBP
1
PUSHN
33
_out
CALL
DROP
_l_return_3
JMP
:_l_return_3
GETBP
SETSP
SETBP
2
RETN
;------—
;--------main () Nargs: 0 (var (y 1 )) LocalVarsSize: 1
:_main
DUP
GETBP
GETSP
SETBP
1
PUSHN
GETBP
1
SUB
1
WRITE
GETBP
1
SUB
READ
_foo
CALL
2
GETBP
ADD
0
WRITE
_l_return_4
JMP
:_l_return_4
GETBP
SETSP
SETBP
JMP
;--------
